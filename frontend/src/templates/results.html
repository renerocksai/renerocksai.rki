<div id="search-results">
{% if results %}
    <div class="results_heading">
        <div>🔗 <a href="{{ permalink }}">permalink zur Suche</a></div>
        <div><a href="{{ twitterlink }}" target="_blank">auf <b>𝕏</b> teilen</a></div>
    </div>
    {% for result in results %}
        <div class="search-result" title=" {{result['meta']['doc_path'] | docpath }}">
            <div class="doc-path"><a href="{{  result['meta']['doc_path'] |
                    docurl }}" >{{ result['meta']['doc_path'] | docpath | basename }}</a> <span class="distance">({{result['meta']['dist']}})</span></div>
            {% for p in result['prev'] %}
                <pre>{{ p['para'] }}</pre>
            {% endfor %}
            <pre class="matching-line">{{ result['meta']['para'] }}</pre>
            {% for p in result['next'] %}
                <pre>{{ p['para'] }}</pre>
            {% endfor %}
        </div>
    {% endfor %}
{% else %}
        <div class="examples-container">
            <h3>Such-Beispiele:</h3>

            <div class="example-search">
                <a href="https://corona-files.com/search?query=Bekam+das+RKI+von+Seiten+der+Politik+den+Auftrag+r%C3%BCckwirkend+Massnahmen+wissenschaftlich+zu+argumentieren?&dataset=zusatzmaterial&num_results=200&remove_dupes=true&result_size=1239" class="search-link">
                    <span class="emoji">🔎</span>
                    <span class="text">Bekam das RKI von Seiten der Politik den Auftrag rückwirkend Massnahmen wissenschaftlich zu argumentieren?</span>
                </a>
            </div>
            <div class="example-search">
                <a href="https://corona-files.com/search?query=FFP2-Masken+nicht+sinnvoll&dataset=corona_ABSOLUTELY_EVERYTHING&num_results=10&remove_dupes=false&result_size=500" class="search-link">
                    <span class="emoji">🔎</span>
                    <span class="text">FFP2-Masken nicht sinnvoll</span>
                </a>
            </div>
            <div class="example-search">
                <a href="https://corona-files.com/search?query=Welche+Zweifel+%C3%A4u%C3%9Ferte+das+RKI+gegen%C3%BCber+Schulschlie%C3%9Fungen?&dataset=corona_ABSOLUTELY_EVERYTHING&num_results=30&remove_dupes=false&result_size=500" class="search-link">
                    <span class="emoji">🔎</span>
                    <span class="text">Welche Zweifel äußerte das RKI gegenüber Schulschließungen?</span>
                </a>
            </div>
            <div class="example-search">
                <a href="https://corona-files.com/search?query=Welche+Studien+hat+das+PEI+selbst+durchgef%C3%BChrt?&dataset=pei_files&num_results=25&remove_dupes=false&result_size=1510" class="search-link">
                    <span class="emoji">🔎</span>
                    <span class="text">Welche Studien hat das PEI selbst durchgeführt?</span>
                </a>
            </div>
        </div>
        <details>
            <summary>Wie funktioniert die Semantische Suche?</summary>
            <p>
                Über eine KI können Texte in Zahlenreihen umgewandelt werden, die die Bedeutung
                eines jeweiligen Textes abbilden. Man spricht von sogenannten "Text-Embeddings".
            </p>

            <p>
                Bei jeder Suche wird der Suchtext zunächst in dieses abstrakte Embeddings-Format
                umgewandelt und so seine Bedeutung abstrakt erfasst.
            </p>

            <p>
                Die exakte Wortwahl spielt dann keine große Rolle mehr. Sogar die Sprache ist
                irrelevant. Ob nach "Ausgangssperren" oder nach "curfews" gesucht wird, ist in
                der Bedeutung egal, so auch in den Embeddings.
            </p>

            <p>
                Um die Suchtreffer zu ermitteln, werden die Embeddings des Suchtexts mit den
                Embeddings der zu durchsuchenden Textabschnitte verglichen.
            </p>

            <p>
                Zu diesem Zweck haben wir vorab alle Textstellen aus dem Leak in Embeddings
                konvertiert. So kamen insgesamt ca. 580.000 Embedding-Repräsentationen zustande.
            </p>

            <p>
                Zur Darstellung der Ergebnisse werden zu jedem Treffer schlussendlich noch
                umliegende Textabschnitte (meist: Zeilen) mit einbezogen, bis die gewünschte
                Ergebnis-Länge erreicht ist. Die gefundenen Stellen werden dabei gesondert
                hervorgehoben.
            </p>
        </details>

{% endif %}
</div>

